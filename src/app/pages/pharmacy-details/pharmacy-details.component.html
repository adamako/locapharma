<div class="p-5">
  <div class="flex items-center justify-between">
    <button type="button" (click)="goBack()"
            class="text-white bg-transparent font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center">
      <svg xmlns="http://www.w3.org/2000/svg" fill="#244065" height="1em" viewBox="0 0 448 512">
        <path
          d="M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"/>
      </svg>
      <span class="ml-2 text-base">
        Retour
     </span>
    </button>
    <span [class.bg-red-600]="!pharmacy?.opening_hours?.open_now" class="text-white bg-success uppercase font-bold rounded text-sm px-5 py-2.5 mr-2 mb-2">
        {{pharmacy?.opening_hours?.open_now ? 'Ouvert' : 'Ferm√©'}}
    </span>
  </div>

  <div>
    <div class="mt-2 relative flex justify-center items-center">
      <img src="assets/pharma-cover.png" alt="cover" class=" w-full">
      <figcaption class="px-4 absolute text-lg text-white top-50 text-center">
        <span class="text-[50px] font-extrabold  text-center uppercase">{{pharmacy?.name}}</span>
      </figcaption>
    </div>

    <app-loading *ngIf="loading$ | async"></app-loading>

    <div class="mt-2 border-l-4 flex flex-col gap-4 pl-4 border-base">
      <div class="flex gap-2 items-center">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 40 40" fill="none">
          <g clip-path="url(#clip0_19_90)">
            <path
              d="M20.0005 0C13.4601 0 8.1001 5.344 8.1001 11.8664C8.1001 14.3936 8.9073 16.7424 10.2733 18.6728L18.5481 32.978C19.7069 34.492 20.4773 34.2044 21.4409 32.898L30.5681 17.366C30.7521 17.0324 30.8969 16.6772 31.0229 16.3144C31.6021 14.903 31.8999 13.392 31.8997 11.8664C31.9001 5.344 26.5417 0 20.0005 0ZM20.0005 5.56C23.5229 5.56 26.3237 8.3544 26.3237 11.8664C26.3237 15.3784 23.5229 18.1716 20.0005 18.1716C16.4785 18.1716 13.6765 15.3788 13.6765 11.8664C13.6765 8.3544 16.4785 5.5604 20.0005 5.5604V5.56Z"
              fill="#99CC33"/>
            <path
              d="M27.5652 19.5632L27.546 19.6136C27.552 19.5984 27.5568 19.5828 27.5628 19.5676L27.5652 19.5632ZM25.5392 29.3416L24.986 30.0256C25.734 30.116 26.458 30.222 27.136 30.3504L24.9444 30.9996L27.8696 31.7776L30.05 31.09C31.3892 31.5392 33.2436 32.0884 33.858 32.7128H29.486L29.9204 33.9832H34.4572C34.4436 34.6992 33.1636 35.2808 31.9412 35.752L28.8408 35.0816L25.9196 36.1284L29.0396 36.8404C27.218 37.3364 24.1596 37.638 21.6276 37.7768L21.5212 36.3208H18.4788L18.372 37.7768C15.84 37.638 12.782 37.3368 10.96 36.8408L14.0804 36.1284L11.1592 35.0816L8.05836 35.752C6.85356 35.386 5.55636 34.6992 5.54276 33.9832H10.08L10.5144 32.7128H6.14236C6.75676 32.0884 8.61116 31.5392 9.95036 31.09L12.1308 31.7776L15.056 30.9996L12.8644 30.3504C13.5721 30.2196 14.284 30.1119 14.9988 30.0276L14.4536 29.3424C8.53956 29.9572 3.62436 31.2664 2.33556 33.334C0.279963 36.6292 7.86316 39.944 19.748 39.9956C19.9248 40.0044 20.0992 39.998 20.264 39.9956C32.142 39.9412 39.7184 36.6276 37.6644 33.334C36.3748 31.2656 31.4568 29.956 25.5392 29.3416Z"
              fill="#99CC33"/>
          </g>
          <defs>
            <clipPath id="clip0_19_90">
              <rect width="40" height="40" fill="white"/>
            </clipPath>
          </defs>
        </svg>
        <span class="text-[15px]">
        {{pharmacyDetails?.formatted_address}}
      </span>
      </div>
      <div class="flex justify-between items-center">
        <div class="flex gap-3 items-center">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 40 40" fill="none">
            <path
              d="M33.25 35C29.7778 35 26.3472 34.2428 22.9583 32.7283C19.5694 31.2139 16.4861 29.0683 13.7083 26.2917C10.9306 23.5139 8.785 20.4306 7.27167 17.0417C5.75833 13.6528 5.00111 10.2222 5 6.75C5 6.25 5.16667 5.83333 5.5 5.5C5.83333 5.16667 6.25 5 6.75 5H13.5C13.8889 5 14.2361 5.13222 14.5417 5.39667C14.8472 5.66111 15.0278 5.97333 15.0833 6.33333L16.1667 12.1667C16.2222 12.6111 16.2083 12.9861 16.125 13.2917C16.0417 13.5972 15.8889 13.8611 15.6667 14.0833L11.625 18.1667C12.1806 19.1944 12.84 20.1872 13.6033 21.145C14.3667 22.1028 15.2072 23.0267 16.125 23.9167C16.9861 24.7778 17.8889 25.5767 18.8333 26.3133C19.7778 27.05 20.7778 27.7233 21.8333 28.3333L25.75 24.4167C26 24.1667 26.3267 23.9789 26.73 23.8533C27.1333 23.7278 27.5289 23.6933 27.9167 23.75L33.6667 24.9167C34.0556 25.0278 34.375 25.2294 34.625 25.5217C34.875 25.8139 35 26.14 35 26.5V33.25C35 33.75 34.8333 34.1667 34.5 34.5C34.1667 34.8333 33.75 35 33.25 35ZM10.0417 15L12.7917 12.25L12.0833 8.33333H8.375C8.51389 9.47222 8.70833 10.5972 8.95833 11.7083C9.20833 12.8194 9.56944 13.9167 10.0417 15ZM24.9583 29.9167C26.0417 30.3889 27.1461 30.7639 28.2717 31.0417C29.3972 31.3194 30.5289 31.5 31.6667 31.5833V27.9167L27.75 27.125L24.9583 29.9167Z"
              fill="#99CC33"/>
          </svg>
          <span class="text-[15px]">
         {{pharmacyDetails?.international_phone_number}}
        </span>
        </div>
        <button type="button" (click)="openGoogleMaps()"
                class="text-gray-900 bg-gray-100 hover:bg-gray-200 focus:ring-4 focus:outline-none focus:ring-gray-100 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center dark:focus:ring-gray-500 mr-2 mb-2">
          <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" fill="none">
            <mask id="mask0_20_187" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="1" y="1" width="28" height="28">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M15 27.5C21.9037 27.5 27.5 21.9037 27.5 15C27.5 8.09625 21.9037 2.5 15 2.5C8.09625 2.5 2.5 8.09625 2.5 15C2.5 21.9037 8.09625 27.5 15 27.5Z" fill="white" stroke="white" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M15 8.125L10.625 21.25L15 18.125L19.375 21.25L15 8.125Z" fill="black" stroke="black" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
            </mask>
            <g mask="url(#mask0_20_187)">
              <path d="M0 0H30V30H0V0Z" fill="#244065"/>
            </g>
          </svg>
          <span class="uppercase ml-2 font-bold">Google map</span>
        </button>
      </div>
    </div>

    <div class="mt-4">
      <hr>
      <h3 class="text-2xl text-base font-bold mt-2">Avis des clients</h3>
      <div class="flex mt-4 items-start"  *ngFor="let review of pharmacyDetails?.reviews">
        <app-rating-item [review]="review"></app-rating-item>
      </div>
    </div>
  </div>
</div>
